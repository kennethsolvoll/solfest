<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Party Time!</title>
    <link href="https://fonts.cdnfonts.com/css/morpheus" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=New+Amsterdam&display=swap');
       /* @font-face {
            font-family: 'Morpheus';
            src: url('fonts/wowfont.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }*/
        body {
            --main-bg-color: #e0e1dd;
            --second-bg-color: #778da9;
            --third-bg-color: #415a77;
            --fourth-bg-color: #1b263b;
            --text-color: #0d1b2a;

            font-family: monospace, sans-serif;
            background-color: var(--fourth-bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
        }
        header {
            background-color: var(--main-bg-color);
            color: var(--text-color);
            padding: 10px 20px;
            text-align: center;
        }
        section {
            padding: 20px;
            margin: 20px;
            background-color: var(--second-bg-color);
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            color: var(--text-color);
        }
        .team {
            margin: 10px 0;
            padding: 10px;
            background-color: #e6e6fa;
            border-radius: 5px;
        }
        .countdown {
            text-align: center;
            font-size: 5em;
            margin-top: 20px;
            color: #ff4500;
        }
        .schedule-item {
            margin: 10px 0;
            padding: 10px;
            background-color: #e6e6fa;
            border-left: 4px solid var(--third-bg-color);
        }

        section#rules ul li {
            padding: 10px 0;
        }

        .hidden-content {
            display: none;
        }

        .side-quest {
            display: flex;
            width: 100%;
            min-height: 400px;
            font-weight: 700;
            text-align: center;
            border-radius: 5px;
            margin: 10px 0;
            box-sizing: border-box;
            padding: 10% 10% 25px;
            font-size: 16px;
            line-height: 1.5;
            font-family: "Morpheus",Arial, sans-serif;
            color: var(--text-color);
            background-image: url("questbg.png");
            background-size: 100% 100%;
            background-position-y: 50px;

            justify-content: center;
            align-items: center;


        }

        .side-quest p {
            width: 100%;
            margin: auto;
        }

        .wrapper {
            position: relative;
            width: 80%;
        }

        /* Kutter ned fullscreen på pc for at scrolls skal se bra ut */
        @media screen and (min-width: 800px) {
            body {
                max-width: 800px;
                margin: 0 auto;
            }
        }

        /* Game canvas styling */
        canvas {
            background-color: #f0fff0;
            display: block;
            margin: 20px auto;
            border: 2px solid #4682b4;
            border-radius: 10px;
        }

    </style>
</head>
<body>

<header>
    <h1>Velkommen til innflytningsfest!</h1>
    <p>Håper du er klar for en fartsfylt kveld med masse morro <3!</p>
    <p>Mer info vises når timeren treffer 0!</p>
    <div class="countdown" id="countdown"></div>
</header>

<!-- Game Section -->
<section id="game-countdown-start">
    <h2>Spill mens du venter!</h2>
    <canvas id="gameCanvas" width="320" height="480"></canvas>
</section>

<div id="main-content" class="hidden-content">
    <section id="introduction">
        <h2>Intro</h2>
        <p>Velkommen til festen du sent vil glemme. Vi er allerede i gang kl 18, og avslutter ca. 23 før vi beveger oss videre. Gjennom kvelden vil vi ha en rekke leker med lagspill, poeng og premier! Håper konkurranseinstinktet er skrudd opp til øverste gir!!</p>
    </section>

    <section id="rules">
        <h2>Festregler:</h2>
        <ul>
            <li>Det er ikke lov til å lukte på 'Mystery shots' som finnes på kjøkkenet, den skal hives rett i gapet!.</li>
            <li>Det er kun én mystery shot per pers.</li>
            <li>1 mystery shot tilsvarer 1 poeng, her kan laget samle inn litt!</li>
            <li>Hvert lag må utnevne en 'Dance Champion'.</li>
            <li>Hvert lag bør utnevne en 'Chug Meister'.</li>
            <li>Hvert lag bør utnevne en 'Spice Lord'.</li>
            <li>Chug meisteren har ETT forsøk på å chugge en breezer og få best mulig tid. Beste chuggern får poeng til laget sitt!</li>
            <li>Spice lorden har muligheten til å ta ETT spice shot (meget spicy) som gir poeng til laget sitt!</li>
            <li>ÉN modig sjel (på hele festen) får muligheten til å chugge KONGEKOPPEN! Denne koppen kan gi laget ditt MYE poeng.</li>
        </ul>
    </section>

    <section id="schedule">
        <h2>Timeplan:</h2>
        <div class="schedule-item">
            <strong>19:00 - Musikkquiz!</strong>
            <p>Klarer du å huske navn og artist på alle disse BANGERNE?? Man kan få 1+1 poeng for sangnavn og artist(er).</p>
        </div>
        <div class="schedule-item">
            <strong>20:00 - Beat4beat</strong>
            <p>Fem kategorier! Fem vanskelighetsgrader! Er du en smarting?</p>
        </div>
        <div class="schedule-item">
            <strong>21:00 - Tegnelek</strong>
            <p>Tegn filmen uten å si et ord! Resten av laget ditt må prøve å gjette hvilken film du prøver å tegne. Ingen juksing ;)!</p>
        </div>
        <div class="schedule-item">
            <strong>22:00 - Dance Off</strong>
            <p>Din Dance Champion skal nå vise sine HETE mooves på gulvet i en 1 vs 1 dance off til tops! Resten av lagene stemmer på sin favoritt :))</p>
        </div>
        <div class="schedule-item">
            <strong>22:30 - Kåringer</strong>
            <p>Vi skal kåre vinnerne for kvelden og gjøre oss klare til å innvadere byen! Første stopp, Old Irish!!</p>
        </div>
    </section>

    <section id="teams">

        <h2>Lagoppstilling</h2>
        <div class="team">
            <h3>Team A</h3>
            <p>Thomas, Kristoffer, Marielle, Astrid</p>
        </div>
        <div class="team">
            <h3>Team B</h3>
            <p>Keim, Per, Martin, Kjetil</p>
        </div>
        <div class="team">
            <h3>Team C</h3>
            <p>Seb the pleb, Marte, Ole, Tereze</p>
        </div>
        <div class="team">
            <h3>Team D</h3>
            <p>Erlend, Hogne, Mina, Alexandra</p>
        </div>
        <div class="team">
            <h3>Team E</h3>
            <p>Audun, Emma, Bendik, Maria Nord</p>
        </div>
        <div class="team">
            <h3>Team F</h3>
            <p>Simon, Victoria, Amalie, Maria K</p>
        </div>
    </section>

    <section id="side-quests">
        <h2>Side Quests:</h2>
        <div class="side-quest">

            <div class="wrapper">
            <h3>Mystery shots</h3>
            <p>Hver person kan ta 1 shot fra 'mystery shot brettet' hver, som tilsvarer 1 poeng til laget. Totalt kan laget få n poeng, hvor n = antall lagmedlemmer.</p>
            </div>
        </div>
        <div class="side-quest">
            <div class="wrapper">
            <h3>Breezer Chug</h3>
            <p>En Chug Meister fra hvert lag får ett forsøk på å chugge en breezer raskest mulig.</p>
            <p>Raskeste tid får 15 poeng!</p>
            </div>
        </div>
        <div class="side-quest">
            <div class="wrapper">
            <h3>Spice shot</h3>
            <p>En spice lord fra hvert team kan ta ett super spicy shot.</p>
            <p>Shotten tilsvarer 10 poeng!</p>
            </div>
        </div>
        <div class="side-quest">
            <div class="wrapper">
            <h3>Kongekoppen</h3>
            <p>ÉN Konge får lov til å drikke kongekoppen, men den skal fylles av folket.</p>
            <p>20 poeng!!!</p>
            </div>
        </div>
        <div class="side-quest">
            <div class="wrapper">
                <h3>Game Master</h3>
                <p>Personen med høyest score får 10 poeng!</p>
            </div>
        </div>
    </section>
</div>

<footer>
    <p>&copy; Pst: Du er den vakreste jeg vet!</p>
</footer>

<script>
    // Countdown Timer Script
    const countdownDate = new Date("August 24, 2024 18:00:00").getTime();
    const countdownElement = document.getElementById('countdown');
    const mainContent = document.getElementById('main-content');
    const gameCountdownStart = document.getElementById('game-countdown-start');

    const updateCountdown = () => {
        const now = new Date().getTime();
        const distance = countdownDate - now;

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        countdownElement.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;

        if (distance < 0) {
            clearInterval(x);
            countdownElement.innerHTML = "HÆLA I TAKET JENTER!";
            mainContent.style.display = "block";
            gameCountdownStart.style.display = "none";
        }
    };

    updateCountdown();
    setInterval(updateCountdown, 1000);
</script>

<script>
    // Set up canvas and context
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    let ballRadius = 10;
    let x = Math.random() * (canvas.width - 2 * ballRadius) + ballRadius; // Random starting x position
    let y = canvas.height - 30; // Keep y near the bottom for an initial drop
    let dx = 6; // Initial speed (double the original speed)
    let dy = -6; // Initial speed (double the original speed)
    let paddleHeight = 10;
    let paddleWidth = 75;
    let paddleX = (canvas.width - paddleWidth) / 2;
    let rightPressed = false;
    let leftPressed = false;
    let score = 0;
    let speedIncreaseInterval = 3000; // Speed increases every 5 seconds
    let doublePointsTime = 30000; // Points double after 30 seconds
    let pointsMultiplier = 1; // Start with normal points

    // Retrieve high score from localStorage, or initialize to 0 if not found
    let highScore = localStorage.getItem("highScore") ? parseInt(localStorage.getItem("highScore")) : 0;

    // Event listeners for paddle movement
    document.addEventListener("keydown", keyDownHandler, false);
    document.addEventListener("keyup", keyUpHandler, false);

    function keyDownHandler(e) {
        if (e.key == "Right" || e.key == "ArrowRight") {
            rightPressed = true;
        } else if (e.key == "Left" || e.key == "ArrowLeft") {
            leftPressed = true;
        }
    }

    function keyUpHandler(e) {
        if (e.key == "Right" || e.key == "ArrowRight") {
            rightPressed = false;
        } else if (e.key == "Left" || e.key == "ArrowLeft") {
            leftPressed = false;
        }
    }

    function drawBall() {
        ctx.beginPath();
        ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
        ctx.fillStyle = "#0095DD";
        ctx.fill();
        ctx.closePath();
    }

    function drawPaddle() {
        ctx.beginPath();
        ctx.rect(paddleX, canvas.height - paddleHeight, paddleWidth, paddleHeight);
        ctx.fillStyle = "#0095DD";
        ctx.fill();
        ctx.closePath();
    }

    function drawScore() {
        ctx.font = "16px Arial";
        ctx.fillStyle = "#0095DD";
        ctx.fillText("Score: " + score, 8, 20);
    }

    function drawHighScore() {
        ctx.font = "16px Arial";
        ctx.fillStyle = "#0095DD";
        ctx.fillText("High Score: " + highScore, canvas.width - 120, 20); // Positioned in the upper right corner
    }

    function detectCollision() {
        if (x + dx > canvas.width - ballRadius || x + dx < ballRadius) {
            dx = -dx;
        }
        if (y + dy < ballRadius) {
            dy = -dy;
        } else if (y + dy > canvas.height - ballRadius) {
            if (x > paddleX && x < paddleX + paddleWidth) {
                dy = -dy;
                score += 1 * pointsMultiplier; // Apply points multiplier
            } else {
                // Update high score if current score is higher
                if (score > highScore) {
                    highScore = score;
                    localStorage.setItem("highScore", highScore); // Save new high score in localStorage
                }
                // Reset game
                document.location.reload();
            }
        }
    }

    function movePaddle() {
        if (rightPressed && paddleX < canvas.width - paddleWidth) {
            paddleX += 7;
        } else if (leftPressed && paddleX > 0) {
            paddleX -= 7;
        }
    }

    function increaseSpeed() {
        if (dx < 0) {
            dx -= 0.5; // Increase speed in negative direction
        } else {
            dx += 0.5; // Increase speed in positive direction
        }

        if (dy < 0) {
            dy -= 0.5; // Increase speed in negative direction
        } else {
            dy += 0.5; // Increase speed in positive direction
        }
    }

    function activateDoublePoints() {
        pointsMultiplier = 2; // Double the points after 30 seconds
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawBall();
        drawPaddle();
        drawScore();
        drawHighScore(); // Draw high score in the canvas
        detectCollision();
        movePaddle();

        x += dx;
        y += dy;

        requestAnimationFrame(draw);
    }

    // Start the game loop
    draw();

    // Increase speed every 5 seconds
    setInterval(increaseSpeed, speedIncreaseInterval);

    // Double points after 30 seconds
    setTimeout(activateDoublePoints, doublePointsTime);


</script>
</body>
</html>
